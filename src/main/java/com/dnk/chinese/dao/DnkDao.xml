<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dnk.chinese.dao.DnkDao">

    <select id="getStudentDetail" parameterType="String" resultType="ChineseDto">
        select  student_seq
        		,to_char(student_brith,'yyyy-mm-dd') as student_brith
        from    chineseclass
        where	student_name = #{data}
        and		student_status = 10
    </select>
    
    <select id="getClassDetail" parameterType="ChineseDto" resultType="ClassDto">
    	select	*
    	from	classdetail
    </select>
    
    <select id="getHomeWorkTitle" parameterType="ChineseDto" resultType="HomeDto">
    	select  	homework_title
    				,homework_seq
		from    	homeworkdetail
		where   	student_num = #{student_seq}
		order by 	homework_seq desc
    </select>
    
    <select id="getHDetail" parameterType="HomeDto" resultType="HomeDto">
    	select  *
		from    homeworkdetail
		where   homework_seq = ${homework_seq}
    </select>
    
    <update id="modHomeWork" parameterType="HomeDto">
    	update	homeworkdetail
    	set		homework_detail_or = #{homework_detail_or}
    			,homework_diary_or = #{homework_diary_or}
    	where	homework_seq = #{homework_seq}
    </update>
    
    <insert id="insertHonmeWork" parameterType="HomeDto">
    	insert	into
    	homeworkdetail
    	values	(
    	home_seq.nextval
    	,#{student_num}
    	,to_char(SYSDATE, 'YYYYMMDD')
    	,#{homework_detail_or}
    	,#{homework_diary_or}
    	)
    </insert>
  

</mapper>